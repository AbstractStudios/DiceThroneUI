import{d as v,a as f,f as m,s as g,c,b as s,F as n,r as _,u as w,o as i,t as o,p as I,e as P,_ as k}from"./index-895d73af.js";import{a as p}from"./axios-82afda87.js";const u="https://back-end-azdjtklhyq-uc.a.run.app",S=v({id:"player",state:()=>({players:[],activePlayerId:null}),getters:{getPlayers(e){return e.players},getActivePlayer(e){return e.players.find(a=>a.id===e.activePlayerId)}},actions:{async fetchPlayers(e){const a=await p.get(`${u}/v1/games/${e}`);if(a.status!==200)throw new Error("Failed to fetch players");this.players=a.data.players},async rollDice(e){const a=await p.post(`${u}/v1/players/${e}/dice/roll`);if(console.log(a),a.status!==200)throw new Error("Failed to roll dice")}}}),r=e=>(I("data-v-ad8af8d9"),e=e(),P(),e),b={class:"gameplay-container"},D=r(()=>s("div",{class:"header"}," Header ",-1)),V={class:"players-container"},$={class:"players"},x={class:"player-name"},B={class:"player-character"},E={class:"player-health"},F={class:"player-cp"},R={class:"player-id"},A={class:"player-dice"},C=["onClick"],G=r(()=>s("br",null,null,-1)),L=r(()=>s("div",{class:"abilities-container"}," Abilities ",-1)),j=r(()=>s("div",{class:"dice-container"}," Dice ",-1)),q=f({__name:"GameplayView",setup(e){const a=m(),d=S();d.fetchPlayers(a.params.gameId);const{players:y,activePlayerId:z}=g(d);return(h,H)=>(i(),c("div",b,[D,s("div",V,[s("div",$,[(i(!0),c(n,null,_(w(y),t=>(i(),c("div",{class:"player",key:t.id},[s("div",x,o(t.userId),1),s("div",B,o(t.characterId),1),s("div",E,o(t.health),1),s("div",F,o(t.combatPoints),1),s("div",R,o(t.uuid),1),s("div",A,[(i(!0),c(n,null,_(t.dice,l=>(i(),c("div",{class:"player-die",key:l.id},o(l.diceValue),1))),128))]),s("button",{class:"roll-dice",onClick:l=>h.rollDice(t.uuid)}," Roll Dice ",8,C),G]))),128))])]),L,j]))}});const U=k(q,[["__scopeId","data-v-ad8af8d9"]]);export{U as default};
